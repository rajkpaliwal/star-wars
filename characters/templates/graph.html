<!doctype html>
<html>
    {% load static %}
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Star Wars</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
        <link rel="stylesheet" href="{% static 'css/custom-icon.css' %}">
        <link rel="stylesheet" href="{% static 'css/jquery.dataTables.min.css' %}">
        <link rel="stylesheet" href="{% static 'css/style.css' %}">
        <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
    </head>
    <body>
        <!-- Breadcomb area Start-->
        <div class="breadcomb-area mg-tb-40">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="breadcomb-list">
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                    <div class="breadcomb-wp">
                                        <div class="breadcomb-icon">
                                            <i class="notika-icon notika-windows"></i>
                                        </div>
                                        <div class="breadcomb-ctn">
                                            <h2>Star Wars</h2>
                                            <p>Star Wars Characters Data</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-3">
                                    <div class="breadcomb-report">
                                        <a href="/" data-toggle="tooltip" data-placement="left" title="See Graph" class="btn"><i class="notika-icon notika-sent"></i> Home</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Breadcomb area End-->
        <div class="flot-chart-area mg-tb-40">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="flot-chart-wp">
                            <!-- <div id="chart2" class="flot-chart flot-chr-pro"></div> -->
                            <canvas id="chart" width="800" height="450"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="{% static 'js/vendor/jquery-1.12.4.min.js' %}"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <script type="text/javascript">
            alldata = {{data|safe}}
            
            data_name = []
            data_height = []
            data_color = []
            
            for (x in alldata){
              data_name.push(alldata[x].name);
              data_height.push(alldata[x].height);
              if(alldata[x].gender == "male"){
                data_color.push("#3e95cd");
              } else if(alldata[x].gender == "female"){
                data_color.push("#c45850");
              }
            }
            
            new Chart(document.getElementById("chart"), {
              type: 'bar',
              data: {
                labels: data_name,
                datasets: [
                  {
                    label: "Height (in cms)",
                    backgroundColor: data_color,
                    data: data_height
                  }
                ]
              },
              options: {
                legend: { display: false },
                title: {
                  display: true,
                  text: 'Height of Star Wars Characters'
                }
              }
            });
        </script>
    </body>
</html>